import{j as e,v as h,I as N,l as v,L as k}from"./ui-vendor-CRP0iqJy.js";import{c as y,C as U,e as C}from"./auth-BNfNio64.js";import{B as x}from"./badge-BuouczFH.js";import{r as w}from"./react-vendor-DWv6uwxK.js";const g=w.forwardRef(({className:s,value:n,...c},i)=>e.jsx(h,{ref:i,className:y("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...c,children:e.jsx(N,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));g.displayName=h.displayName;function u({badge:s,size:n="md",showProgress:c=!0}){const i={sm:"p-3",md:"p-4",lg:"p-6"},d={sm:"text-2xl",md:"text-3xl",lg:"text-4xl"},a={sm:"text-sm font-medium",md:"text-base font-semibold",lg:"text-lg font-bold"};return e.jsx(U,{className:`relative transition-all duration-200 hover:shadow-md ${s.isUnlocked?"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300 shadow-sm":"bg-muted/50 border-muted-foreground/20"}`,children:e.jsxs(C,{className:i[n],children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(x,{variant:"secondary",className:`text-xs ${s.isUnlocked?"bg-orange-200 text-orange-800":"bg-muted text-muted-foreground"}`,children:s.category}),e.jsx("div",{className:"flex items-center",children:s.isUnlocked?e.jsx(v,{className:"h-4 w-4 text-green-600"}):e.jsx(k,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:`${d[n]} ${s.isUnlocked?"brightness-110 drop-shadow-md":"grayscale opacity-50"} mb-2`,children:s.icon}),e.jsx("h3",{className:`${a[n]} ${s.isUnlocked?"text-foreground":"text-muted-foreground"}`,children:s.name})]}),e.jsx("p",{className:`text-center text-sm mb-3 ${s.isUnlocked?"text-muted-foreground":"text-muted-foreground/70"}`,children:s.description}),c&&!s.isUnlocked&&s.progress!==void 0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{value:s.progress,className:"h-2"}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:s.progressText})]}),s.isUnlocked&&s.unlockedAt&&e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Unlocked ",s.unlockedAt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),n==="lg"&&e.jsx("div",{className:"mt-3 pt-3 border-t border-muted-foreground/20",children:e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[e.jsx("strong",{children:"Criteria:"})," ",s.criteria]})})]})})}function O({badges:s,title:n,showProgress:c=!0,maxDisplay:i}){const d=s.reduce((t,l)=>{const o=l.category||"general";return t[o]||(t[o]=[]),t[o].push(l),t},{}),a=["progress","consistency","milestone","long-term","achievement","time","general"],f=Object.keys(d).sort((t,l)=>{const o=a.indexOf(t),r=a.indexOf(l);return(o===-1?999:o)-(r===-1?999:r)}),j=i?s.slice(0,i):s,p=s.filter(t=>t.isUnlocked).length;return e.jsxs("div",{className:"space-y-6",children:[n&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:n}),e.jsxs(x,{variant:"secondary",className:"text-sm",children:[p,"/",s.length," Unlocked"]})]}),i?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:j.map(t=>e.jsx(u,{badge:t,size:"sm",showProgress:c},t.id))}):e.jsx("div",{className:"space-y-8",children:f.map(t=>{const l=d[t],o=l.filter(r=>r.isUnlocked).length;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold capitalize",children:t==="long-term"?"Long-term Achievements":t==="time"?"Time-based":t}),e.jsxs(x,{variant:"outline",className:"text-xs",children:[o,"/",l.length]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:l.sort((r,m)=>r.isUnlocked&&!m.isUnlocked?-1:!r.isUnlocked&&m.isUnlocked?1:!r.isUnlocked&&!m.isUnlocked?(m.progress||0)-(r.progress||0):0).map(r=>e.jsx(u,{badge:r,size:"md",showProgress:c},r.id))})]},t)})})]})}export{O as B};
