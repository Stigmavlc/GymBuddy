import{j as e,p as k,q as g,r as C,i as S,s as E,B as T}from"./ui-vendor-Dh6LInB3.js";import{r as n,u as R}from"./react-vendor-DWv6uwxK.js";import{c as d,f as D,u as B,B as h,C as p,a as L,b as F,d as M,e as b}from"./auth-DZ3nYzx0.js";import{a as N}from"./utils-vendor-BZaDkFqu.js";import"./supabase-vendor-Dgy_jg73.js";var A="Label",j=n.forwardRef((i,s)=>e.jsx(k.label,{...i,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(i.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));j.displayName=A;var v=j;const P=D("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef(({className:i,...s},t)=>e.jsx(v,{ref:t,className:d(P(),i),...s}));c.displayName=v.displayName;const m=n.forwardRef(({className:i,...s},t)=>e.jsx(g,{className:d("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i),...s,ref:t,children:e.jsx(C,{className:d("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));m.displayName=g.displayName;function V(){const{user:i,profile:s,updateProfile:t}=B(),u=R(),[f,x]=n.useState(!1),[r,l]=n.useState({browserNotifications:!0,emailNotifications:!0,reminderTime:30});n.useEffect(()=>{s&&l({browserNotifications:s.preferences?.notifications?.browser??!0,emailNotifications:s.preferences?.notifications?.email??!0,reminderTime:s.preferences?.notifications?.reminderTime??30})},[s]);const w=async()=>{if(!(!i||!s)){x(!0);try{const a={preferences:{notifications:{sms:s.preferences?.notifications?.sms??!0,push:s.preferences?.notifications?.push??!0,browser:r.browserNotifications,email:r.emailNotifications,reminderTime:r.reminderTime}}};await t(a),N.success("Settings saved successfully! ðŸ’¾")}catch(a){console.error("Error saving settings:",a),N.error("Failed to save settings")}finally{x(!1)}}},y=[{value:15,label:"15 minutes before"},{value:30,label:"30 minutes before"},{value:60,label:"1 hour before"},{value:120,label:"2 hours before"}];return e.jsxs("div",{className:"container mx-auto py-6 px-4 max-w-2xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(h,{variant:"ghost",onClick:()=>u("/dashboard"),className:"mb-4",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Settings"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage your account and notification preferences"})]})]})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs(p,{children:[e.jsxs(L,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),"Notifications"]}),e.jsx(M,{children:"Choose how you want to be notified about gym sessions"})]}),e.jsx(b,{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-0.5 min-w-0 flex-1",children:[e.jsx(c,{className:"text-sm font-medium",children:"Browser Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get instant desktop/mobile notifications (FREE!)"})]}),e.jsx(m,{checked:r.browserNotifications,onCheckedChange:a=>l(o=>({...o,browserNotifications:a})),className:"shrink-0"})]}),e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-0.5 min-w-0 flex-1",children:[e.jsx(c,{className:"text-sm font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get email alerts about sessions and updates (FREE!)"})]}),e.jsx(m,{checked:r.emailNotifications,onCheckedChange:a=>l(o=>({...o,emailNotifications:a})),className:"shrink-0"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-sm font-medium",children:"Reminder Timing"}),e.jsx("select",{value:r.reminderTime,onChange:a=>l(o=>({...o,reminderTime:Number(a.target.value)})),className:"w-full p-3 border border-input rounded-md bg-background text-sm min-h-[44px]",children:y.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"When to send session reminders"})]})]})})]}),e.jsx(p,{children:e.jsx(b,{className:"p-4",children:e.jsx(h,{onClick:w,disabled:f,className:"w-full min-h-[44px]",children:f?"Saving...":"Save Settings"})})})]})]})}export{V as Settings};
