import{j as e,w as f,I as N,m as v,L as k}from"./ui-vendor-Dh6LInB3.js";import{c as y,C as U,e as w}from"./auth-CHX4A9zW.js";import{B as u}from"./badge-DNnRTJZ8.js";import{r as B}from"./react-vendor-DWv6uwxK.js";const j=B.forwardRef(({className:s,value:n,...c},l)=>e.jsx(f,{ref:l,className:y("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...c,children:e.jsx(N,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));j.displayName=f.displayName;function g({badge:s,size:n="md",showProgress:c=!0}){const l={sm:"p-3",md:"p-4",lg:"p-6"},d={sm:"text-2xl",md:"text-3xl",lg:"text-4xl"},a={sm:"text-sm font-medium",md:"text-base font-semibold",lg:"text-lg font-bold"};return e.jsx(U,{className:`relative transition-all duration-200 hover:shadow-md ${s.isUnlocked?"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-300 shadow-sm":"bg-muted/50 border-muted-foreground/20"}`,children:e.jsxs(w,{className:l[n],children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(u,{variant:"secondary",className:`text-xs ${s.isUnlocked?"bg-orange-200 text-orange-800":"bg-muted text-muted-foreground"}`,children:s.category}),e.jsx("div",{className:"flex items-center",children:s.isUnlocked?e.jsx(v,{className:"h-4 w-4 text-green-600"}):e.jsx(k,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:`${d[n]} ${s.isUnlocked?"brightness-110 drop-shadow-md":"grayscale opacity-50"} mb-2`,children:s.icon}),e.jsx("h3",{className:`${a[n]} ${s.isUnlocked?"text-foreground":"text-muted-foreground"}`,children:s.name})]}),e.jsx("p",{className:`text-center text-sm mb-3 ${s.isUnlocked?"text-muted-foreground":"text-muted-foreground/70"}`,children:s.description}),c&&!s.isUnlocked&&s.progress!==void 0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{value:s.progress,className:"h-2"}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:s.progressText})]}),s.isUnlocked&&s.unlockedAt&&e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Unlocked ",s.unlockedAt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),n==="lg"&&e.jsx("div",{className:"mt-3 pt-3 border-t border-muted-foreground/20",children:e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[e.jsx("strong",{children:"Criteria:"})," ",s.criteria]})})]})})}function I({badges:s,title:n,showProgress:c=!0,maxDisplay:l}){console.log("BadgeGrid: Rendering with props:",{badgeCount:s?.length||0,title:n,showProgress:c,maxDisplay:l,firstBadge:s?.[0]?{id:s[0].id,name:s[0].name}:null});const d=s.reduce((t,o)=>{const i=o.category||"general";return t[i]||(t[i]=[]),t[i].push(o),t},{}),a=["progress","consistency","milestone","long-term","achievement","time","general"],p=Object.keys(d).sort((t,o)=>{const i=a.indexOf(t),r=a.indexOf(o);return(i===-1?999:i)-(r===-1?999:r)}),m=l?s.slice(0,l):s,h=s.filter(t=>t.isUnlocked).length;return console.log("BadgeGrid: Processing badges:",{totalBadges:s.length,displayBadges:m.length,unlockedCount:h,maxDisplay:l,willShowPlaceholder:l&&m.length===0}),e.jsxs("div",{className:"space-y-6",children:[n&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:n}),e.jsxs(u,{variant:"secondary",className:"text-sm",children:[h,"/",s.length," Unlocked"]})]}),l?m.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map(t=>e.jsx(g,{badge:t,size:"sm",showProgress:c},t.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ†"}),e.jsx("p",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Complete gym sessions to start earning achievement badges!"}),e.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsx("p",{children:"â€¢ Complete your first workout session"}),e.jsx("p",{children:"â€¢ Build a consistent workout streak"}),e.jsx("p",{children:"â€¢ Achieve milestone session counts"})]})]}):e.jsx("div",{className:"space-y-8",children:p.map(t=>{const o=d[t],i=o.filter(r=>r.isUnlocked).length;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold capitalize",children:t==="long-term"?"Long-term Achievements":t==="time"?"Time-based":t}),e.jsxs(u,{variant:"outline",className:"text-xs",children:[i,"/",o.length]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:o.sort((r,x)=>r.isUnlocked&&!x.isUnlocked?-1:!r.isUnlocked&&x.isUnlocked?1:!r.isUnlocked&&!x.isUnlocked?(x.progress||0)-(r.progress||0):0).map(r=>e.jsx(g,{badge:r,size:"md",showProgress:c},r.id))})]},t)})})]})}export{I as B};
